{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/ui/Logo.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\n\r\ninterface LogoProps {\r\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n  variant?: \"light\" | \"dark\";\r\n  showText?: boolean;\r\n}\r\n\r\nexport function Logo({ size = \"md\", variant = \"dark\", showText = true }: LogoProps) {\r\n  const sizeClasses = {\r\n    sm: { container: \"w-8 h-8\", image: 32, text: \"text-sm\", subtext: \"text-xs\" },\r\n    md: { container: \"w-10 h-10\", image: 40, text: \"text-base\", subtext: \"text-xs\" },\r\n    lg: { container: \"w-14 h-14\", image: 56, text: \"text-lg\", subtext: \"text-sm\" },\r\n    xl: { container: \"w-16 h-16\", image: 64, text: \"text-xl\", subtext: \"text-base\" },\r\n  };\r\n\r\n\r\n  const colors = variant === \"light\" \r\n    ? { text: \"text-white\", subtext: \"text-white/80\" }\r\n    : { text: \"text-gray-900\", subtext: \"text-gray-600\" };\r\n\r\n  const s = sizeClasses[size];\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-3\">\r\n      {/* Logo Image */}\r\n      <div className={`${s.container} relative overflow-hidden`}>\r\n        <Image\r\n          src=\"/images/logo.png\"\r\n          alt=\"Pondok Pesantren Baiturrohman\"\r\n          fill\r\n          className=\"object-contain\"\r\n          priority\r\n        />\r\n      </div>\r\n\r\n\r\n      {/* Text */}\r\n      {showText && (\r\n        <div className=\"flex flex-col\">\r\n          <span className={`font-bold ${s.text} ${colors.text} leading-tight`}>\r\n            Sistem Administrasi & Informasi\r\n          </span>\r\n          <span className={`${s.subtext} ${colors.subtext}`}>\r\n            Pondok Pesantren Baiturrohman\r\n          </span>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n// Simple logo icon only (for favicon or small icons)\r\nexport function LogoIcon({ className = \"w-6 h-6\" }: { className?: string }) {\r\n  return (\r\n    <div className={`${className} relative rounded overflow-hidden`}>\r\n      <Image\r\n        src=\"/images/logo.png\"\r\n        alt=\"Logo\"\r\n        fill\r\n        className=\"object-contain\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAUO,SAAS,KAAK,EAAE,OAAO,IAAI,EAAE,UAAU,MAAM,EAAE,WAAW,IAAI,EAAa;IAChF,MAAM,cAAc;QAClB,IAAI;YAAE,WAAW;YAAW,OAAO;YAAI,MAAM;YAAW,SAAS;QAAU;QAC3E,IAAI;YAAE,WAAW;YAAa,OAAO;YAAI,MAAM;YAAa,SAAS;QAAU;QAC/E,IAAI;YAAE,WAAW;YAAa,OAAO;YAAI,MAAM;YAAW,SAAS;QAAU;QAC7E,IAAI;YAAE,WAAW;YAAa,OAAO;YAAI,MAAM;YAAW,SAAS;QAAY;IACjF;IAGA,MAAM,SAAS,YAAY,UACvB;QAAE,MAAM;QAAc,SAAS;IAAgB,IAC/C;QAAE,MAAM;QAAiB,SAAS;IAAgB;IAEtD,MAAM,IAAI,WAAW,CAAC,KAAK;IAE3B,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAW,GAAG,EAAE,SAAS,CAAC,yBAAyB,CAAC;0BACvD,cAAA,8OAAC,wIAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,IAAI;oBACJ,WAAU;oBACV,QAAQ;;;;;;;;;;;YAMX,0BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAW,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC,cAAc,CAAC;kCAAE;;;;;;kCAGrE,8OAAC;wBAAK,WAAW,GAAG,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,OAAO,EAAE;kCAAE;;;;;;;;;;;;;;;;;;AAQ7D;AAGO,SAAS,SAAS,EAAE,YAAY,SAAS,EAA0B;IACxE,qBACE,8OAAC;QAAI,WAAW,GAAG,UAAU,iCAAiC,CAAC;kBAC7D,cAAA,8OAAC,wIAAK;YACJ,KAAI;YACJ,KAAI;YACJ,IAAI;YACJ,WAAU;;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/layout/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { Logo } from \"@/components/ui/Logo\";\r\n\r\n\r\ninterface SidebarProps {\r\n  role: \"ADMIN\" | \"USTADZ\" | \"ORANG_TUA\";\r\n  userName: string;\r\n  userId?: string;\r\n  onCloseMobile?: () => void;\r\n}\r\n\r\nconst menuItems = {\r\n  ADMIN: [\r\n    { href: \"/admin\", label: \"Dashboard\", icon: \"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" },\r\n    { href: \"/admin/santri\", label: \"Data Santri\", icon: \"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" },\r\n    { href: \"/admin/ustadz\", label: \"Data Ustadz\", icon: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" },\r\n    { href: \"/admin/orang-tua\", label: \"Data Orang Tua\", icon: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" },\r\n    { href: \"/admin/keuangan\", label: \"Keuangan\", icon: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" },\r\n    { href: \"/admin/topup\", label: \"Top Up\", icon: \"M12 6v6m0 0v6m0-6h6m-6 0H6\" },\r\n  ],\r\n  USTADZ: [\r\n    { href: \"/ustadz\", label: \"Dashboard\", icon: \"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" },\r\n    { href: \"/ustadz/absensi\", label: \"Absensi\", icon: \"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\" },\r\n    { href: \"/ustadz/hafalan\", label: \"Hafalan\", icon: \"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" },\r\n    { href: \"/ustadz/pelanggaran\", label: \"Pelanggaran\", icon: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" },\r\n    { href: \"/ustadz/kasir\", label: \"Kasir\", icon: \"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\" },\r\n  ],\r\n  ORANG_TUA: [\r\n    { href: \"/orang-tua\", label: \"Dashboard\", icon: \"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" },\r\n    { href: \"/orang-tua/transaksi\", label: \"Transaksi\", icon: \"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z\" },\r\n    { href: \"/orang-tua/absensi\", label: \"Absensi\", icon: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" },\r\n    { href: \"/orang-tua/hafalan\", label: \"Hafalan\", icon: \"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" },\r\n    { href: \"/orang-tua/pelanggaran\", label: \"Pelanggaran\", icon: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" },\r\n  ],\r\n\r\n};\r\n\r\nexport function Sidebar({ role, userName, onCloseMobile }: SidebarProps) {\r\n  const pathname = usePathname();\r\n  const items = menuItems[role] || [];\r\n\r\n  const handleClick = () => {\r\n    onCloseMobile?.();\r\n  };\r\n\r\n  return (\r\n    <aside className=\"h-full w-64 glass-sidebar flex flex-col overflow-hidden\">\r\n      {/* Logo Section */}\r\n      <div className=\"p-6 border-b border-tosca-400/30\">\r\n        <Link href=\"/\" className=\"flex items-center gap-3\" onClick={handleClick}>\r\n          <Logo size=\"md\" variant=\"light\" showText={true} />\r\n        </Link>\r\n      </div>\r\n\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex-1 overflow-y-auto py-4 px-3 space-y-1\">\r\n        {items.map((item) => {\r\n          const isActive = pathname === item.href || pathname.startsWith(`${item.href}/`);\r\n          return (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              onClick={handleClick}\r\n              className={`\r\n                flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300\r\n                ${isActive \r\n                  ? 'bg-tosca-500/40 text-white border-l-4 border-tosca-300 font-semibold shadow-lg' \r\n                  : 'text-tosca-100 hover:bg-tosca-400/20 hover:text-white border-l-4 border-transparent'\r\n                }\r\n              `}\r\n            >\r\n              <svg \r\n                className={`w-5 h-5 ${isActive ? 'text-tosca-200' : 'text-tosca-300'}`} \r\n                fill=\"none\" \r\n                viewBox=\"0 0 24 24\" \r\n                stroke=\"currentColor\"\r\n              >\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d={item.icon} />\r\n              </svg>\r\n              <span className=\"text-sm font-medium\">{item.label}</span>\r\n              {isActive && (\r\n                <div className=\"ml-auto w-2 h-2 rounded-full bg-tosca-300 animate-pulse\" />\r\n              )}\r\n            </Link>\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      {/* User Info */}\r\n      <div className=\"p-4 border-t border-tosca-400/30\">\r\n        <div className=\"glass-card bg-tosca-800/50 border-tosca-400/30 p-4 rounded-xl\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-tosca-300 to-tosca-500 flex items-center justify-center shadow-lg ring-2 ring-tosca-200/50\">\r\n              <span className=\"text-white font-bold text-sm\">\r\n                {userName.charAt(0).toUpperCase()}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className=\"text-sm font-semibold text-white truncate\">{userName}</p>\r\n              <p className=\"text-xs text-tosca-200 capitalize\">{role.replace(\"_\", \" \")}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAcA,MAAM,YAAY;IAChB,OAAO;QACL;YAAE,MAAM;YAAU,OAAO;YAAa,MAAM;QAAmJ;QAC/L;YAAE,MAAM;YAAiB,OAAO;YAAe,MAAM;QAAgH;QACrK;YAAE,MAAM;YAAiB,OAAO;YAAe,MAAM;QAAsE;QAC3H;YAAE,MAAM;YAAoB,OAAO;YAAkB,MAAM;QAAyQ;QACpU;YAAE,MAAM;YAAmB,OAAO;YAAY,MAAM;QAA8K;QAClO;YAAE,MAAM;YAAgB,OAAO;YAAU,MAAM;QAA6B;KAC7E;IACD,QAAQ;QACN;YAAE,MAAM;YAAW,OAAO;YAAa,MAAM;QAAmJ;QAChM;YAAE,MAAM;YAAmB,OAAO;YAAW,MAAM;QAAkK;QACrN;YAAE,MAAM;YAAmB,OAAO;YAAW,MAAM;QAAqP;QACxS;YAAE,MAAM;YAAuB,OAAO;YAAe,MAAM;QAAuI;QAClM;YAAE,MAAM;YAAiB,OAAO;YAAS,MAAM;QAAyF;KACzI;IACD,WAAW;QACT;YAAE,MAAM;YAAc,OAAO;YAAa,MAAM;QAAmJ;QACnM;YAAE,MAAM;YAAwB,OAAO;YAAa,MAAM;QAAqJ;QAC/M;YAAE,MAAM;YAAsB,OAAO;YAAW,MAAM;QAAyF;QAC/I;YAAE,MAAM;YAAsB,OAAO;YAAW,MAAM;QAAqP;QAC3S;YAAE,MAAM;YAA0B,OAAO;YAAe,MAAM;QAAuI;KACtM;AAEH;AAEO,SAAS,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,aAAa,EAAgB;IACrE,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,QAAQ,SAAS,CAAC,KAAK,IAAI,EAAE;IAEnC,MAAM,cAAc;QAClB;IACF;IAEA,qBACE,8OAAC;QAAM,WAAU;;0BAEf,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;oBAA0B,SAAS;8BAC1D,cAAA,8OAAC,wIAAI;wBAAC,MAAK;wBAAK,SAAQ;wBAAQ,UAAU;;;;;;;;;;;;;;;;0BAM9C,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC;oBACV,MAAM,WAAW,aAAa,KAAK,IAAI,IAAI,SAAS,UAAU,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;oBAC9E,qBACE,8OAAC,uKAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,SAAS;wBACT,WAAW,CAAC;;gBAEV,EAAE,WACE,mFACA,sFACH;cACH,CAAC;;0CAED,8OAAC;gCACC,WAAW,CAAC,QAAQ,EAAE,WAAW,mBAAmB,kBAAkB;gCACtE,MAAK;gCACL,SAAQ;gCACR,QAAO;0CAEP,cAAA,8OAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAG,KAAK,IAAI;;;;;;;;;;;0CAEjF,8OAAC;gCAAK,WAAU;0CAAuB,KAAK,KAAK;;;;;;4BAChD,0BACC,8OAAC;gCAAI,WAAU;;;;;;;uBArBZ,KAAK,IAAI;;;;;gBAyBpB;;;;;;0BAIF,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAK,WAAU;8CACb,SAAS,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;0CAGnC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAA6C;;;;;;kDAC1D,8OAAC;wCAAE,WAAU;kDAAqC,KAAK,OAAO,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlF"}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/layout/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\ninterface HeaderProps {\r\n  title: string;\r\n  userName: string;\r\n  userRole: string;\r\n  userId?: string;\r\n  notifications?: number;\r\n  onMenuClick?: () => void;\r\n}\r\n\r\nexport function Header({ title, userName, userRole, userId, notifications = 0, onMenuClick }: HeaderProps) {\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [profilePhoto, setProfilePhoto] = useState<string | null>(null);\r\n\r\n  // Load profile photo from localStorage\r\n  useEffect(() => {\r\n    if (userId) {\r\n      const savedPhoto = localStorage.getItem(`profile_photo_${userId}`);\r\n      if (savedPhoto) {\r\n        setProfilePhoto(savedPhoto);\r\n      }\r\n    }\r\n  }, [userId]);\r\n\r\n  return (\r\n    <header className=\"sticky top-0 z-30 glass-header shadow-lg safe-area-top\">\r\n      <div className=\"flex items-center justify-between px-4 lg:px-6 py-3 lg:py-4\">\r\n        {/* Left Side - Mobile Menu & Title */}\r\n        <div className=\"flex items-center gap-3\">\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            onClick={onMenuClick}\r\n            className=\"lg:hidden p-2 rounded-xl bg-tosca-700/50 hover:bg-tosca-600/50 transition-colors touch-target border border-tosca-400/50\"\r\n          >\r\n            <svg className=\"w-5 h-5 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n            </svg>\r\n          </button>\r\n          \r\n          {/* Page Title */}\r\n          <div>\r\n            <h1 className=\"text-lg lg:text-xl font-bold text-white\">{title}</h1>\r\n            <p className=\"text-xs lg:text-sm text-tosca-100 hidden sm:block\">Selamat Datang, {userName}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Side */}\r\n        <div className=\"flex items-center gap-4\">\r\n          {/* Notifications */}\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowNotifications(!showNotifications)}\r\n              className=\"relative p-2 lg:p-2.5 text-tosca-100 hover:text-white hover:bg-tosca-700/50 rounded-xl transition-all duration-300 touch-target border border-tosca-400/50\"\r\n            >\r\n              <svg className=\"w-5 h-5 lg:w-6 lg:h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\r\n              </svg>\r\n              {notifications > 0 && (\r\n                <span className=\"absolute top-0.5 right-0.5 w-4 h-4 lg:w-5 lg:h-5 bg-gradient-to-br from-red-400 to-red-500 text-white text-[10px] lg:text-xs font-bold rounded-full flex items-center justify-center shadow-lg animate-pulse\">\r\n                  {notifications > 9 ? \"9+\" : notifications}\r\n                </span>\r\n              )}\r\n            </button>\r\n\r\n            {showNotifications && (\r\n              <div className=\"absolute right-0 mt-2 w-72 lg:w-80 glass-card bg-tosca-800/95 border-tosca-400/50 rounded-2xl shadow-2xl py-2 z-50\">\r\n                <div className=\"px-4 py-3 border-b border-tosca-400/30\">\r\n                  <h3 className=\"font-semibold text-white\">Notifikasi</h3>\r\n                </div>\r\n                <div className=\"max-h-64 overflow-y-auto\">\r\n                  <p className=\"px-4 py-4 text-sm text-tosca-200 text-center\">\r\n                    Tidak ada notifikasi baru\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Profile Menu */}\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowProfile(!showProfile)}\r\n              className=\"flex items-center gap-2 lg:gap-3 p-1.5 lg:p-2 hover:bg-tosca-700/50 rounded-xl transition-all duration-300 touch-target border border-tosca-400/50\"\r\n            >\r\n              <div className=\"w-8 h-8 lg:w-10 lg:h-10 rounded-full overflow-hidden bg-gradient-to-br from-tosca-300 to-tosca-500 flex items-center justify-center shadow-lg ring-2 ring-tosca-200/50\">\r\n                {profilePhoto ? (\r\n                  <img \r\n                    src={profilePhoto} \r\n                    alt=\"Profile\" \r\n                    className=\"w-full h-full object-cover\"\r\n                  />\r\n                ) : (\r\n                  <span className=\"text-white font-bold text-sm lg:text-base\">\r\n                    {userName.charAt(0).toUpperCase()}\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"hidden md:block text-left\">\r\n                <p className=\"text-sm font-semibold text-white\">{userName}</p>\r\n                <p className=\"text-xs text-tosca-200\">{userRole.replace(\"_\", \" \")}</p>\r\n              </div>\r\n              <svg className=\"w-4 h-4 text-tosca-200 hidden sm:block\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </button>\r\n\r\n            {showProfile && (\r\n              <div className=\"absolute right-0 mt-2 w-48 glass-card bg-tosca-800/95 rounded-2xl shadow-2xl py-2 z-50 border border-tosca-400/50\">\r\n                <Link\r\n                  href=\"/profile\"\r\n                  className=\"flex items-center gap-3 px-4 py-2.5 text-sm text-tosca-100 hover:bg-tosca-700/50 transition-colors\"\r\n                  onClick={() => setShowProfile(false)}\r\n                >\r\n                  <svg className=\"w-4 h-4 text-tosca-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                  </svg>\r\n                  Profil Saya\r\n                </Link>\r\n                <Link\r\n                  href=\"/settings\"\r\n                  className=\"flex items-center gap-3 px-4 py-2.5 text-sm text-tosca-100 hover:bg-tosca-700/50 transition-colors\"\r\n                  onClick={() => setShowProfile(false)}\r\n                >\r\n                  <svg className=\"w-4 h-4 text-tosca-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066 2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                  </svg>\r\n                  Pengaturan\r\n                </Link>\r\n                <hr className=\"my-1 border-tosca-400/30\" />\r\n                <button\r\n                  onClick={async () => {\r\n                    await fetch('/api/auth/logout', { method: 'POST' });\r\n                    window.location.href = '/login';\r\n                  }}\r\n                  className=\"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-300 hover:bg-red-500/20 transition-colors\"\r\n                >\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                  </svg>\r\n                  Keluar\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAcO,SAAS,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,gBAAgB,CAAC,EAAE,WAAW,EAAe;IACvG,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAEhE,uCAAuC;IACvC,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ;YACV,MAAM,aAAa,aAAa,OAAO,CAAC,CAAC,cAAc,EAAE,QAAQ;YACjE,IAAI,YAAY;gBACd,gBAAgB;YAClB;QACF;IACF,GAAG;QAAC;KAAO;IAEX,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,8OAAC;gCAAI,WAAU;gCAAqB,MAAK;gCAAO,SAAQ;gCAAY,QAAO;0CACzE,cAAA,8OAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;sCAKzE,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA2C;;;;;;8CACzD,8OAAC;oCAAE,WAAU;;wCAAoD;wCAAiB;;;;;;;;;;;;;;;;;;;8BAKtF,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,qBAAqB,CAAC;oCACrC,WAAU;;sDAEV,8OAAC;4CAAI,WAAU;4CAAwB,MAAK;4CAAO,SAAQ;4CAAY,QAAO;sDAC5E,cAAA,8OAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;wCAEtE,gBAAgB,mBACf,8OAAC;4CAAK,WAAU;sDACb,gBAAgB,IAAI,OAAO;;;;;;;;;;;;gCAKjC,mCACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAG,WAAU;0DAA2B;;;;;;;;;;;sDAE3C,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAE,WAAU;0DAA+C;;;;;;;;;;;;;;;;;;;;;;;sCASpE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,eAAe,CAAC;oCAC/B,WAAU;;sDAEV,8OAAC;4CAAI,WAAU;sDACZ,6BACC,8OAAC;gDACC,KAAK;gDACL,KAAI;gDACJ,WAAU;;;;;qEAGZ,8OAAC;gDAAK,WAAU;0DACb,SAAS,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;sDAKrC,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,8OAAC;oDAAE,WAAU;8DAA0B,SAAS,OAAO,CAAC,KAAK;;;;;;;;;;;;sDAE/D,8OAAC;4CAAI,WAAU;4CAAyC,MAAK;4CAAO,SAAQ;4CAAY,QAAO;sDAC7F,cAAA,8OAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;;;;;;;gCAIxE,6BACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,eAAe;;8DAE9B,8OAAC;oDAAI,WAAU;oDAAyB,MAAK;oDAAO,SAAQ;oDAAY,QAAO;8DAC7E,cAAA,8OAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;gDACjE;;;;;;;sDAGR,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,eAAe;;8DAE9B,8OAAC;oDAAI,WAAU;oDAAyB,MAAK;oDAAO,SAAQ;oDAAY,QAAO;;sEAC7E,8OAAC;4DAAK,eAAc;4DAAQ,gBAAe;4DAAQ,aAAa;4DAAG,GAAE;;;;;;sEACrE,8OAAC;4DAAK,eAAc;4DAAQ,gBAAe;4DAAQ,aAAa;4DAAG,GAAE;;;;;;;;;;;;gDACjE;;;;;;;sDAGR,8OAAC;4CAAG,WAAU;;;;;;sDACd,8OAAC;4CACC,SAAS;gDACP,MAAM,MAAM,oBAAoB;oDAAE,QAAQ;gDAAO;gDACjD,OAAO,QAAQ,CAAC,IAAI,GAAG;4CACzB;4CACA,WAAU;;8DAEV,8OAAC;oDAAI,WAAU;oDAAU,MAAK;oDAAO,SAAQ;oDAAY,QAAO;8DAC9D,cAAA,8OAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;gDACjE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUxB"}},
    {"offset": {"line": 839, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/layout/DashboardLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ReactNode, useState } from \"react\";\r\nimport { Sidebar } from \"./Sidebar\";\r\nimport { Header } from \"./Header\";\r\n\r\ninterface DashboardLayoutProps {\r\n  children: ReactNode;\r\n  role: \"ADMIN\" | \"USTADZ\" | \"ORANG_TUA\";\r\n  userName: string;\r\n  userId?: string;\r\n  pageTitle: string;\r\n  notifications?: number;\r\n}\r\n\r\nexport function DashboardLayout({\r\n  children,\r\n  role,\r\n  userName,\r\n  userId,\r\n  pageTitle,\r\n  notifications = 0,\r\n}: DashboardLayoutProps) {\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-soft\">\r\n      {/* Mobile Menu Overlay */}\r\n      {isMobileMenuOpen && (\r\n        <div \r\n          className=\"fixed inset-0 bg-tosca-900/30 backdrop-blur-sm z-40 lg:hidden\"\r\n          onClick={() => setIsMobileMenuOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <div className={`\r\n        fixed inset-y-0 left-0 z-50 w-64\r\n        transform transition-transform duration-300 ease-in-out\r\n        ${isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\r\n      `}>\r\n        <Sidebar \r\n          role={role} \r\n          userName={userName} \r\n          userId={userId}\r\n          onCloseMobile={() => setIsMobileMenuOpen(false)}\r\n        />\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 lg:ml-64 min-w-0\">\r\n        <Header\r\n          title={pageTitle}\r\n          userName={userName}\r\n          userRole={role}\r\n          userId={userId}\r\n          notifications={notifications}\r\n          onMenuClick={() => setIsMobileMenuOpen(true)}\r\n        />\r\n\r\n        <main className=\"p-4 lg:p-6 safe-area-bottom\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAeO,SAAS,gBAAgB,EAC9B,QAAQ,EACR,IAAI,EACJ,QAAQ,EACR,MAAM,EACN,SAAS,EACT,gBAAgB,CAAC,EACI;IACrB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IAEzD,qBACE,8OAAC;QAAI,WAAU;;YAEZ,kCACC,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,oBAAoB;;;;;;0BAKvC,8OAAC;gBAAI,WAAW,CAAC;;;QAGf,EAAE,mBAAmB,kBAAkB,qCAAqC;MAC9E,CAAC;0BACC,cAAA,8OAAC,kJAAO;oBACN,MAAM;oBACN,UAAU;oBACV,QAAQ;oBACR,eAAe,IAAM,oBAAoB;;;;;;;;;;;0BAK7C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,gJAAM;wBACL,OAAO;wBACP,UAAU;wBACV,UAAU;wBACV,QAAQ;wBACR,eAAe;wBACf,aAAa,IAAM,oBAAoB;;;;;;kCAGzC,8OAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 926, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/ui/Button.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ButtonHTMLAttributes, forwardRef } from \"react\";\r\n\r\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: \"primary\" | \"secondary\" | \"danger\" | \"success\" | \"outline\";\r\n  size?: \"sm\" | \"md\" | \"lg\";\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className = \"\", variant = \"primary\", size = \"md\", isLoading, children, disabled, ...props }, ref) => {\r\n    const baseStyles = \"inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\";\r\n    \r\n    const variants = {\r\n      primary: \"bg-[#2d9596] text-white hover:bg-[#247f80] focus:ring-[#2d9596]\",\r\n      secondary: \"bg-gray-500 text-white hover:bg-gray-600 focus:ring-gray-500\",\r\n      danger: \"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500\",\r\n      success: \"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500\",\r\n      outline: \"border-2 border-[#2d9596] text-[#2d9596] hover:bg-[#2d9596] hover:text-white focus:ring-[#2d9596]\",\r\n    };\r\n\r\n    const sizes = {\r\n      sm: \"px-3 py-1.5 text-sm\",\r\n      md: \"px-4 py-2 text-base\",\r\n      lg: \"px-6 py-3 text-lg\",\r\n    };\r\n\r\n    return (\r\n      <button\r\n        ref={ref}\r\n        className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`}\r\n        disabled={disabled || isLoading}\r\n        {...props}\r\n      >\r\n        {isLoading && (\r\n          <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n          </svg>\r\n        )}\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nButton.displayName = \"Button\";\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,MAAM,uBAAS,IAAA,mNAAU,EAC9B,CAAC,EAAE,YAAY,EAAE,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC9F,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,QAAQ;QACR,SAAS;QACT,SAAS;IACX;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,GAAG,WAAW,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAC3E,UAAU,YAAY;QACrB,GAAG,KAAK;;YAER,2BACC,8OAAC;gBAAI,WAAU;gBAAkC,MAAK;gBAAO,SAAQ;;kCACnE,8OAAC;wBAAO,WAAU;wBAAa,IAAG;wBAAK,IAAG;wBAAK,GAAE;wBAAK,QAAO;wBAAe,aAAY;;;;;;kCACxF,8OAAC;wBAAK,WAAU;wBAAa,MAAK;wBAAe,GAAE;;;;;;;;;;;;YAGtD;;;;;;;AAGP;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/ui/Modal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { Button } from \"./Button\";\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title: string;\r\n  children: React.ReactNode;\r\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n}\r\n\r\nexport function Modal({ isOpen, onClose, title, children, size = \"md\" }: ModalProps) {\r\n  useEffect(() => {\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") onClose();\r\n    };\r\n    \r\n    if (isOpen) {\r\n      document.addEventListener(\"keydown\", handleEscape);\r\n      document.body.style.overflow = \"hidden\";\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscape);\r\n      document.body.style.overflow = \"unset\";\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const sizeClasses = {\r\n    sm: \"max-w-md\",\r\n    md: \"max-w-lg\",\r\n    lg: \"max-w-2xl\",\r\n    xl: \"max-w-4xl\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity\"\r\n        onClick={onClose}\r\n      />\r\n      \r\n      {/* Modal Content */}\r\n      <div className={`relative w-full ${sizeClasses[size]} bg-white rounded-lg shadow-xl transform transition-all`}>\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Body */}\r\n        <div className=\"px-6 py-4 max-h-[70vh] overflow-y-auto\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAaO,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,EAAc;IACjF,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe,CAAC;YACpB,IAAI,EAAE,GAAG,KAAK,UAAU;QAC1B;QAEA,IAAI,QAAQ;YACV,SAAS,gBAAgB,CAAC,WAAW;YACrC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QAEA,OAAO;YACL,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;QAAQ;KAAQ;IAEpB,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,8OAAC;gBAAI,WAAW,CAAC,gBAAgB,EAAE,WAAW,CAAC,KAAK,CAAC,uDAAuD,CAAC;;kCAE3G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAuC;;;;;;0CACrD,8OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CACjE,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAM3E,8OAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/ui/Input.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { forwardRef } from \"react\";\r\n\r\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string;\r\n  error?: string;\r\n  helperText?: string;\r\n}\r\n\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\r\n  ({ label, error, helperText, className = \"\", ...props }, ref) => {\r\n    return (\r\n      <div className=\"w-full\">\r\n        {label && (\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            {label}\r\n            {props.required && <span className=\"text-red-500 ml-1\">*</span>}\r\n          </label>\r\n        )}\r\n        <input\r\n          ref={ref}\r\n          className={`\r\n            w-full px-3 py-2 border rounded-lg shadow-sm\r\n            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\r\n            transition-colors\r\n            ${error \r\n              ? \"border-red-300 focus:ring-red-500 focus:border-red-500\" \r\n              : \"border-gray-300\"\r\n            }\r\n            ${className}\r\n          `}\r\n          {...props}\r\n        />\r\n        {error && (\r\n          <p className=\"mt-1 text-sm text-red-600\">{error}</p>\r\n        )}\r\n        {helperText && !error && (\r\n          <p className=\"mt-1 text-sm text-gray-500\">{helperText}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,MAAM,sBAAQ,IAAA,mNAAU,EAC7B,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IACvD,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;;oBACd;oBACA,MAAM,QAAQ,kBAAI,8OAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAG3D,8OAAC;gBACC,KAAK;gBACL,WAAW,CAAC;;;;YAIV,EAAE,QACE,2DACA,kBACH;YACD,EAAE,UAAU;UACd,CAAC;gBACA,GAAG,KAAK;;;;;;YAEV,uBACC,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;YAE3C,cAAc,CAAC,uBACd,8OAAC;gBAAE,WAAU;0BAA8B;;;;;;;;;;;;AAInD;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 1191, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/ui/Select.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { forwardRef } from \"react\";\r\n\r\ninterface SelectOption {\r\n  value: string | number;\r\n  label: string;\r\n}\r\n\r\ninterface SelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {\r\n  label?: string;\r\n  error?: string;\r\n  helperText?: string;\r\n  options: SelectOption[];\r\n}\r\n\r\nexport const Select = forwardRef<HTMLSelectElement, SelectProps>(\r\n  ({ label, error, helperText, options, className = \"\", ...props }, ref) => {\r\n    return (\r\n      <div className=\"w-full\">\r\n        {label && (\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            {label}\r\n            {props.required && <span className=\"text-red-500 ml-1\">*</span>}\r\n          </label>\r\n        )}\r\n        <select\r\n          ref={ref}\r\n          className={`\r\n            w-full px-3 py-2 border rounded-lg shadow-sm bg-white\r\n            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\r\n            transition-colors\r\n            ${error \r\n              ? \"border-red-300 focus:ring-red-500 focus:border-red-500\" \r\n              : \"border-gray-300\"\r\n            }\r\n            ${className}\r\n          `}\r\n          {...props}\r\n        >\r\n          <option value=\"\">-- Pilih --</option>\r\n          {options.map((option) => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        {error && (\r\n          <p className=\"mt-1 text-sm text-red-600\">{error}</p>\r\n        )}\r\n        {helperText && !error && (\r\n          <p className=\"mt-1 text-sm text-gray-500\">{helperText}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nSelect.displayName = \"Select\";\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAgBO,MAAM,uBAAS,IAAA,mNAAU,EAC9B,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAChE,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;;oBACd;oBACA,MAAM,QAAQ,kBAAI,8OAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAG3D,8OAAC;gBACC,KAAK;gBACL,WAAW,CAAC;;;;YAIV,EAAE,QACE,2DACA,kBACH;YACD,EAAE,UAAU;UACd,CAAC;gBACA,GAAG,KAAK;;kCAET,8OAAC;wBAAO,OAAM;kCAAG;;;;;;oBAChB,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;4BAA0B,OAAO,OAAO,KAAK;sCAC3C,OAAO,KAAK;2BADF,OAAO,KAAK;;;;;;;;;;;YAK5B,uBACC,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;YAE3C,cAAc,CAAC,uBACd,8OAAC;gBAAE,WAAU;0BAA8B;;;;;;;;;;;;AAInD;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1283, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/components/ui/Badge.tsx"],"sourcesContent":["interface BadgeProps {\r\n  children: React.ReactNode;\r\n  variant?: \"default\" | \"success\" | \"warning\" | \"danger\" | \"info\";\r\n  size?: \"sm\" | \"md\";\r\n}\r\n\r\nexport function Badge({ children, variant = \"default\", size = \"md\" }: BadgeProps) {\r\n  const variants = {\r\n    default: \"bg-gray-100 text-gray-800\",\r\n    success: \"bg-green-100 text-green-800\",\r\n    warning: \"bg-yellow-100 text-yellow-800\",\r\n    danger: \"bg-red-100 text-red-800\",\r\n    info: \"bg-blue-100 text-blue-800\",\r\n  };\r\n\r\n  const sizes = {\r\n    sm: \"px-2 py-0.5 text-xs\",\r\n    md: \"px-2.5 py-1 text-sm\",\r\n  };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center font-medium rounded-full ${variants[variant]} ${sizes[size]}`}>\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n\r\n// Status-specific badges for the app\r\nexport function AttendanceBadge({ status }: { status: string }) {\r\n  const variants: Record<string, { class: string; label: string }> = {\r\n    HADIR: { class: \"bg-green-100 text-green-800\", label: \"Hadir\" },\r\n    SAKIT: { class: \"bg-yellow-100 text-yellow-800\", label: \"Sakit\" },\r\n    IZIN: { class: \"bg-blue-100 text-blue-800\", label: \"Izin\" },\r\n    ALPHA: { class: \"bg-red-100 text-red-800\", label: \"Alpha\" },\r\n  };\r\n\r\n  const { class: variantClass, label } = variants[status] || { class: \"bg-gray-100 text-gray-800\", label: status };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variantClass}`}>\r\n      {label}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport function TahfidzBadge({ quality }: { quality: string }) {\r\n  const variants: Record<string, { class: string; label: string }> = {\r\n    SANGAT_BAIK: { class: \"bg-green-100 text-green-800\", label: \"Sangat Baik\" },\r\n    BAIK: { class: \"bg-blue-100 text-blue-800\", label: \"Baik\" },\r\n    CUKUP: { class: \"bg-yellow-100 text-yellow-800\", label: \"Cukup\" },\r\n    KURANG: { class: \"bg-red-100 text-red-800\", label: \"Kurang\" },\r\n  };\r\n\r\n  const { class: variantClass, label } = variants[quality] || { class: \"bg-gray-100 text-gray-800\", label: quality };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variantClass}`}>\r\n      {label}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport function TransactionBadge({ type }: { type: string }) {\r\n  const variants: Record<string, { class: string; label: string }> = {\r\n    TOPUP: { class: \"bg-green-100 text-green-800\", label: \"Topup\" },\r\n    DEBIT: { class: \"bg-red-100 text-red-800\", label: \"Debit\" },\r\n    KREDIT: { class: \"bg-blue-100 text-blue-800\", label: \"Kredit\" },\r\n  };\r\n\r\n  const { class: variantClass, label } = variants[type] || { class: \"bg-gray-100 text-gray-800\", label: type };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variantClass}`}>\r\n      {label}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport function ViolationBadge({ category }: { category: string }) {\r\n  const variants: Record<string, { class: string; label: string }> = {\r\n    RINGAN: { class: \"bg-yellow-100 text-yellow-800\", label: \"Ringan\" },\r\n    SEDANG: { class: \"bg-orange-100 text-orange-800\", label: \"Sedang\" },\r\n    BERAT: { class: \"bg-red-100 text-red-800\", label: \"Berat\" },\r\n    SANGAT_BERAT: { class: \"bg-red-200 text-red-900\", label: \"Sangat Berat\" },\r\n  };\r\n\r\n  const { class: variantClass, label } = variants[category] || { class: \"bg-gray-100 text-gray-800\", label: category };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variantClass}`}>\r\n      {label}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAMO,SAAS,MAAM,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAc;IAC9E,MAAM,WAAW;QACf,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;QACR,MAAM;IACR;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QAAK,WAAW,CAAC,kDAAkD,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,EAAE;kBACrG;;;;;;AAGP;AAGO,SAAS,gBAAgB,EAAE,MAAM,EAAsB;IAC5D,MAAM,WAA6D;QACjE,OAAO;YAAE,OAAO;YAA+B,OAAO;QAAQ;QAC9D,OAAO;YAAE,OAAO;YAAiC,OAAO;QAAQ;QAChE,MAAM;YAAE,OAAO;YAA6B,OAAO;QAAO;QAC1D,OAAO;YAAE,OAAO;YAA2B,OAAO;QAAQ;IAC5D;IAEA,MAAM,EAAE,OAAO,YAAY,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC,OAAO,IAAI;QAAE,OAAO;QAA6B,OAAO;IAAO;IAE/G,qBACE,8OAAC;QAAK,WAAW,CAAC,wEAAwE,EAAE,cAAc;kBACvG;;;;;;AAGP;AAEO,SAAS,aAAa,EAAE,OAAO,EAAuB;IAC3D,MAAM,WAA6D;QACjE,aAAa;YAAE,OAAO;YAA+B,OAAO;QAAc;QAC1E,MAAM;YAAE,OAAO;YAA6B,OAAO;QAAO;QAC1D,OAAO;YAAE,OAAO;YAAiC,OAAO;QAAQ;QAChE,QAAQ;YAAE,OAAO;YAA2B,OAAO;QAAS;IAC9D;IAEA,MAAM,EAAE,OAAO,YAAY,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC,QAAQ,IAAI;QAAE,OAAO;QAA6B,OAAO;IAAQ;IAEjH,qBACE,8OAAC;QAAK,WAAW,CAAC,wEAAwE,EAAE,cAAc;kBACvG;;;;;;AAGP;AAEO,SAAS,iBAAiB,EAAE,IAAI,EAAoB;IACzD,MAAM,WAA6D;QACjE,OAAO;YAAE,OAAO;YAA+B,OAAO;QAAQ;QAC9D,OAAO;YAAE,OAAO;YAA2B,OAAO;QAAQ;QAC1D,QAAQ;YAAE,OAAO;YAA6B,OAAO;QAAS;IAChE;IAEA,MAAM,EAAE,OAAO,YAAY,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC,KAAK,IAAI;QAAE,OAAO;QAA6B,OAAO;IAAK;IAE3G,qBACE,8OAAC;QAAK,WAAW,CAAC,wEAAwE,EAAE,cAAc;kBACvG;;;;;;AAGP;AAEO,SAAS,eAAe,EAAE,QAAQ,EAAwB;IAC/D,MAAM,WAA6D;QACjE,QAAQ;YAAE,OAAO;YAAiC,OAAO;QAAS;QAClE,QAAQ;YAAE,OAAO;YAAiC,OAAO;QAAS;QAClE,OAAO;YAAE,OAAO;YAA2B,OAAO;QAAQ;QAC1D,cAAc;YAAE,OAAO;YAA2B,OAAO;QAAe;IAC1E;IAEA,MAAM,EAAE,OAAO,YAAY,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC,SAAS,IAAI;QAAE,OAAO;QAA6B,OAAO;IAAS;IAEnH,qBACE,8OAAC;QAAK,WAAW,CAAC,wEAAwE,EAAE,cAAc;kBACvG;;;;;;AAGP"}},
    {"offset": {"line": 1446, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/app/ustadz/absensi/actions.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/db\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport async function createAbsensi(data: {\r\n  SantriId: number;\r\n  ustadzId: number;\r\n  tanggal: string;\r\n  status: string;\r\n  keterangan?: string;\r\n}) {\r\n  try {\r\n    // Generate new ID\r\n    const allData = await db.select(\"absensis\");\r\n    const newId = allData.length > 0 \r\n      ? Math.max(...allData.map((d: any) => parseInt(d.id) || 0)) + 1 \r\n      : 1;\r\n\r\n    await db.insert(\"absensis\", {\r\n      id: newId,\r\n      ...data,\r\n      createdAt: new Date().toISOString(),\r\n    });\r\n\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error creating absensi:\", error);\r\n    throw new Error(\"Failed to create absensi\");\r\n  }\r\n}\r\n\r\nexport async function updateAbsensi(\r\n  id: number,\r\n  data: {\r\n    SantriId?: number;\r\n    ustadzId?: number;\r\n    tanggal?: string;\r\n    status?: string;\r\n    keterangan?: string;\r\n  }\r\n) {\r\n  try {\r\n    await db.update(\"absensis\", id, data);\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error updating absensi:\", error);\r\n    throw new Error(\"Failed to update absensi\");\r\n  }\r\n}\r\n\r\nexport async function deleteAbsensi(id: number) {\r\n  try {\r\n    await db.delete(\"absensis\", id);\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error deleting absensi:\", error);\r\n    throw new Error(\"Failed to delete absensi\");\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAKsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 1460, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/app/ustadz/absensi/actions.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/db\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport async function createAbsensi(data: {\r\n  SantriId: number;\r\n  ustadzId: number;\r\n  tanggal: string;\r\n  status: string;\r\n  keterangan?: string;\r\n}) {\r\n  try {\r\n    // Generate new ID\r\n    const allData = await db.select(\"absensis\");\r\n    const newId = allData.length > 0 \r\n      ? Math.max(...allData.map((d: any) => parseInt(d.id) || 0)) + 1 \r\n      : 1;\r\n\r\n    await db.insert(\"absensis\", {\r\n      id: newId,\r\n      ...data,\r\n      createdAt: new Date().toISOString(),\r\n    });\r\n\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error creating absensi:\", error);\r\n    throw new Error(\"Failed to create absensi\");\r\n  }\r\n}\r\n\r\nexport async function updateAbsensi(\r\n  id: number,\r\n  data: {\r\n    SantriId?: number;\r\n    ustadzId?: number;\r\n    tanggal?: string;\r\n    status?: string;\r\n    keterangan?: string;\r\n  }\r\n) {\r\n  try {\r\n    await db.update(\"absensis\", id, data);\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error updating absensi:\", error);\r\n    throw new Error(\"Failed to update absensi\");\r\n  }\r\n}\r\n\r\nexport async function deleteAbsensi(id: number) {\r\n  try {\r\n    await db.delete(\"absensis\", id);\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error deleting absensi:\", error);\r\n    throw new Error(\"Failed to delete absensi\");\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAiCsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 1474, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/app/ustadz/absensi/actions.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/db\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport async function createAbsensi(data: {\r\n  SantriId: number;\r\n  ustadzId: number;\r\n  tanggal: string;\r\n  status: string;\r\n  keterangan?: string;\r\n}) {\r\n  try {\r\n    // Generate new ID\r\n    const allData = await db.select(\"absensis\");\r\n    const newId = allData.length > 0 \r\n      ? Math.max(...allData.map((d: any) => parseInt(d.id) || 0)) + 1 \r\n      : 1;\r\n\r\n    await db.insert(\"absensis\", {\r\n      id: newId,\r\n      ...data,\r\n      createdAt: new Date().toISOString(),\r\n    });\r\n\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error creating absensi:\", error);\r\n    throw new Error(\"Failed to create absensi\");\r\n  }\r\n}\r\n\r\nexport async function updateAbsensi(\r\n  id: number,\r\n  data: {\r\n    SantriId?: number;\r\n    ustadzId?: number;\r\n    tanggal?: string;\r\n    status?: string;\r\n    keterangan?: string;\r\n  }\r\n) {\r\n  try {\r\n    await db.update(\"absensis\", id, data);\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error updating absensi:\", error);\r\n    throw new Error(\"Failed to update absensi\");\r\n  }\r\n}\r\n\r\nexport async function deleteAbsensi(id: number) {\r\n  try {\r\n    await db.delete(\"absensis\", id);\r\n    revalidatePath(\"/ustadz/absensi\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error deleting absensi:\", error);\r\n    throw new Error(\"Failed to delete absensi\");\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAqDsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 1488, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/SIPPesantren/5c545958-637b-416e-a3eb-5dcf940bcaca/src/app/ustadz/absensi/AbsensiClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/Button\";\r\nimport { Modal } from \"@/components/ui/Modal\";\r\nimport { Input } from \"@/components/ui/Input\";\r\nimport { Select } from \"@/components/ui/Select\";\r\nimport { Badge } from \"@/components/ui/Badge\";\r\nimport { createAbsensi, updateAbsensi, deleteAbsensi } from \"./actions\";\r\n\r\ninterface Santri {\r\n  id: number;\r\n  nis: string;\r\n  nama: string;\r\n  kelas: string;\r\n}\r\n\r\ninterface Absensi {\r\n  id: number;\r\n  SantriId: number;\r\n  ustadzId: number;\r\n  tanggal: string;\r\n  status: string;\r\n  keterangan?: string;\r\n  createdAt: string;\r\n}\r\n\r\ninterface AbsensiClientProps {\r\n  santris: Santri[];\r\n  absensis: Absensi[];\r\n  ustadzId: number;\r\n}\r\n\r\nexport default function AbsensiClient({ santris, absensis, ustadzId }: AbsensiClientProps) {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [editingAbsensi, setEditingAbsensi] = useState<Absensi | null>(null);\r\n  const [deletingAbsensi, setDeletingAbsensi] = useState<Absensi | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleAdd = () => {\r\n    setEditingAbsensi(null);\r\n    setError(null);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleEdit = (absensi: Absensi) => {\r\n    setEditingAbsensi(absensi);\r\n    setError(null);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleDelete = (absensi: Absensi) => {\r\n    setDeletingAbsensi(absensi);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    const formData = new FormData(e.currentTarget);\r\n    const data = {\r\n      SantriId: parseInt(formData.get(\"SantriId\") as string),\r\n      ustadzId: ustadzId,\r\n      tanggal: formData.get(\"tanggal\") as string,\r\n      status: formData.get(\"status\") as string,\r\n      keterangan: formData.get(\"keterangan\") as string,\r\n    };\r\n\r\n    try {\r\n      if (editingAbsensi) {\r\n        await updateAbsensi(editingAbsensi.id, data);\r\n      } else {\r\n        await createAbsensi(data);\r\n      }\r\n      setIsModalOpen(false);\r\n      window.location.reload();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Terjadi kesalahan\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    if (!deletingAbsensi) return;\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      await deleteAbsensi(deletingAbsensi.id);\r\n      setIsDeleteModalOpen(false);\r\n      window.location.reload();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Terjadi kesalahan\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getSantri = (santriId: number) => {\r\n    return santris.find(s => s.id === santriId);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mb-6 flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Absensi Santri</h2>\r\n          <p className=\"text-gray-500\">Kelola absensi harian santri</p>\r\n        </div>\r\n        <Button onClick={handleAdd}>+ Input Absensi</Button>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">NIS</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Nama</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Kelas</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Tanggal</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Keterangan</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Aksi</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {absensis.map((absen) => {\r\n                const santri = getSantri(absen.SantriId);\r\n                return (\r\n                  <tr key={absen.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">{santri?.nis}</td>\r\n                    <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">{santri?.nama}</td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-500\">{santri?.kelas}</td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-500\">{absen.tanggal}</td>\r\n                    <td className=\"px-4 py-3\">\r\n                      <Badge\r\n                        variant={\r\n                          absen.status === \"HADIR\" ? \"success\" :\r\n                          absen.status === \"SAKIT\" ? \"warning\" :\r\n                          absen.status === \"IZIN\" ? \"info\" : \"danger\"\r\n                        }\r\n                      >\r\n                        {absen.status}\r\n                      </Badge>\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-500\">{absen.keterangan || \"-\"}</td>\r\n                    <td className=\"px-4 py-3\">\r\n                      <div className=\"flex gap-2\">\r\n                        <Button variant=\"outline\" size=\"sm\" onClick={() => handleEdit(absen)}>\r\n                          Edit\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          className=\"text-red-600 hover:bg-red-50\"\r\n                          onClick={() => handleDelete(absen)}\r\n                        >\r\n                          Hapus\r\n                        </Button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add/Edit Modal */}\r\n      <Modal\r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        title={editingAbsensi ? \"Edit Absensi\" : \"Input Absensi Baru\"}\r\n        size=\"md\"\r\n      >\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {error && (\r\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <Select\r\n            label=\"Santri\"\r\n            name=\"SantriId\"\r\n            options={santris.map((s) => ({\r\n              value: s.id,\r\n              label: `${s.nis} - ${s.nama} (${s.kelas})`,\r\n            }))}\r\n            defaultValue={editingAbsensi?.SantriId}\r\n            required\r\n          />\r\n\r\n          <Input\r\n            label=\"Tanggal\"\r\n            name=\"tanggal\"\r\n            type=\"date\"\r\n            defaultValue={editingAbsensi?.tanggal || new Date().toISOString().split('T')[0]}\r\n            required\r\n          />\r\n\r\n          <Select\r\n            label=\"Status\"\r\n            name=\"status\"\r\n            options={[\r\n              { value: \"HADIR\", label: \"Hadir\" },\r\n              { value: \"SAKIT\", label: \"Sakit\" },\r\n              { value: \"IZIN\", label: \"Izin\" },\r\n              { value: \"ALPA\", label: \"Alpa\" },\r\n            ]}\r\n            defaultValue={editingAbsensi?.status || \"HADIR\"}\r\n            required\r\n          />\r\n\r\n          <Input\r\n            label=\"Keterangan\"\r\n            name=\"keterangan\"\r\n            defaultValue={editingAbsensi?.keterangan || \"\"}\r\n            placeholder=\"Contoh: Demam, urusan keluarga, dll\"\r\n          />\r\n\r\n          <div className=\"flex justify-end gap-3 pt-4 border-t\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => setIsModalOpen(false)}\r\n              disabled={isLoading}\r\n            >\r\n              Batal\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isLoading}>\r\n              {isLoading ? \"Menyimpan...\" : editingAbsensi ? \"Simpan\" : \"Tambah\"}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <Modal\r\n        isOpen={isDeleteModalOpen}\r\n        onClose={() => setIsDeleteModalOpen(false)}\r\n        title=\"Konfirmasi Hapus\"\r\n        size=\"sm\"\r\n      >\r\n        <div className=\"space-y-4\">\r\n          <p className=\"text-gray-600\">\r\n            Apakah Anda yakin ingin menghapus data absensi ini?\r\n          </p>\r\n          <p className=\"text-sm text-red-600\">\r\n            Tindakan ini tidak dapat dibatalkan.\r\n          </p>\r\n\r\n          {error && (\r\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex justify-end gap-3 pt-4\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setIsDeleteModalOpen(false)}\r\n              disabled={isLoading}\r\n            >\r\n              Batal\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"bg-red-600 text-white hover:bg-red-700\"\r\n              onClick={handleConfirmDelete}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? \"Menghapus...\" : \"Hapus\"}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AARA;;;;;;;;;AAiCe,SAAS,cAAc,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAsB;IACvF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAiB;IACrE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAiB;IACvE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,YAAY;QAChB,kBAAkB;QAClB,SAAS;QACT,eAAe;IACjB;IAEA,MAAM,aAAa,CAAC;QAClB,kBAAkB;QAClB,SAAS;QACT,eAAe;IACjB;IAEA,MAAM,eAAe,CAAC;QACpB,mBAAmB;QACnB,qBAAqB;IACvB;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,aAAa;QACb,SAAS;QAET,MAAM,WAAW,IAAI,SAAS,EAAE,aAAa;QAC7C,MAAM,OAAO;YACX,UAAU,SAAS,SAAS,GAAG,CAAC;YAChC,UAAU;YACV,SAAS,SAAS,GAAG,CAAC;YACtB,QAAQ,SAAS,GAAG,CAAC;YACrB,YAAY,SAAS,GAAG,CAAC;QAC3B;QAEA,IAAI;YACF,IAAI,gBAAgB;gBAClB,MAAM,IAAA,wLAAa,EAAC,eAAe,EAAE,EAAE;YACzC,OAAO;gBACL,MAAM,IAAA,wLAAa,EAAC;YACtB;YACA,eAAe;YACf,OAAO,QAAQ,CAAC,MAAM;QACxB,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,sBAAsB;QAC1B,IAAI,CAAC,iBAAiB;QAEtB,aAAa;QACb,IAAI;YACF,MAAM,IAAA,wLAAa,EAAC,gBAAgB,EAAE;YACtC,qBAAqB;YACrB,OAAO,QAAQ,CAAC,MAAM;QACxB,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,YAAY,CAAC;QACjB,OAAO,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACpC;IAEA,qBACE;;0BACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;kCAE/B,8OAAC,4IAAM;wBAAC,SAAS;kCAAW;;;;;;;;;;;;0BAG9B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;gCAAM,WAAU;0CACf,cAAA,8OAAC;;sDACC,8OAAC;4CAAG,WAAU;sDAAkE;;;;;;sDAChF,8OAAC;4CAAG,WAAU;sDAAkE;;;;;;sDAChF,8OAAC;4CAAG,WAAU;sDAAkE;;;;;;sDAChF,8OAAC;4CAAG,WAAU;sDAAkE;;;;;;sDAChF,8OAAC;4CAAG,WAAU;sDAAkE;;;;;;sDAChF,8OAAC;4CAAG,WAAU;sDAAkE;;;;;;sDAChF,8OAAC;4CAAG,WAAU;sDAAkE;;;;;;;;;;;;;;;;;0CAGpF,8OAAC;gCAAM,WAAU;0CACd,SAAS,GAAG,CAAC,CAAC;oCACb,MAAM,SAAS,UAAU,MAAM,QAAQ;oCACvC,qBACE,8OAAC;wCAAkB,WAAU;;0DAC3B,8OAAC;gDAAG,WAAU;0DAAmC,QAAQ;;;;;;0DACzD,8OAAC;gDAAG,WAAU;0DAA+C,QAAQ;;;;;;0DACrE,8OAAC;gDAAG,WAAU;0DAAmC,QAAQ;;;;;;0DACzD,8OAAC;gDAAG,WAAU;0DAAmC,MAAM,OAAO;;;;;;0DAC9D,8OAAC;gDAAG,WAAU;0DACZ,cAAA,8OAAC,0IAAK;oDACJ,SACE,MAAM,MAAM,KAAK,UAAU,YAC3B,MAAM,MAAM,KAAK,UAAU,YAC3B,MAAM,MAAM,KAAK,SAAS,SAAS;8DAGpC,MAAM,MAAM;;;;;;;;;;;0DAGjB,8OAAC;gDAAG,WAAU;0DAAmC,MAAM,UAAU,IAAI;;;;;;0DACrE,8OAAC;gDAAG,WAAU;0DACZ,cAAA,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,4IAAM;4DAAC,SAAQ;4DAAU,MAAK;4DAAK,SAAS,IAAM,WAAW;sEAAQ;;;;;;sEAGtE,8OAAC,4IAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS,IAAM,aAAa;sEAC7B;;;;;;;;;;;;;;;;;;uCA3BE,MAAM,EAAE;;;;;gCAkCrB;;;;;;;;;;;;;;;;;;;;;;0BAOR,8OAAC,0IAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,eAAe;gBAC9B,OAAO,iBAAiB,iBAAiB;gBACzC,MAAK;0BAEL,cAAA,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;wBACrC,uBACC,8OAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,8OAAC,4IAAM;4BACL,OAAM;4BACN,MAAK;4BACL,SAAS,QAAQ,GAAG,CAAC,CAAC,IAAM,CAAC;oCAC3B,OAAO,EAAE,EAAE;oCACX,OAAO,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;gCAC5C,CAAC;4BACD,cAAc,gBAAgB;4BAC9B,QAAQ;;;;;;sCAGV,8OAAC,0IAAK;4BACJ,OAAM;4BACN,MAAK;4BACL,MAAK;4BACL,cAAc,gBAAgB,WAAW,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;4BAC/E,QAAQ;;;;;;sCAGV,8OAAC,4IAAM;4BACL,OAAM;4BACN,MAAK;4BACL,SAAS;gCACP;oCAAE,OAAO;oCAAS,OAAO;gCAAQ;gCACjC;oCAAE,OAAO;oCAAS,OAAO;gCAAQ;gCACjC;oCAAE,OAAO;oCAAQ,OAAO;gCAAO;gCAC/B;oCAAE,OAAO;oCAAQ,OAAO;gCAAO;6BAChC;4BACD,cAAc,gBAAgB,UAAU;4BACxC,QAAQ;;;;;;sCAGV,8OAAC,0IAAK;4BACJ,OAAM;4BACN,MAAK;4BACL,cAAc,gBAAgB,cAAc;4BAC5C,aAAY;;;;;;sCAGd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4IAAM;oCACL,MAAK;oCACL,SAAQ;oCACR,SAAS,IAAM,eAAe;oCAC9B,UAAU;8CACX;;;;;;8CAGD,8OAAC,4IAAM;oCAAC,MAAK;oCAAS,UAAU;8CAC7B,YAAY,iBAAiB,iBAAiB,WAAW;;;;;;;;;;;;;;;;;;;;;;;0BAOlE,8OAAC,0IAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,qBAAqB;gBACpC,OAAM;gBACN,MAAK;0BAEL,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;sCAG7B,8OAAC;4BAAE,WAAU;sCAAuB;;;;;;wBAInC,uBACC,8OAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4IAAM;oCACL,SAAQ;oCACR,SAAS,IAAM,qBAAqB;oCACpC,UAAU;8CACX;;;;;;8CAGD,8OAAC,4IAAM;oCACL,SAAQ;oCACR,WAAU;oCACV,SAAS;oCACT,UAAU;8CAET,YAAY,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;AAO5C"}}]
}